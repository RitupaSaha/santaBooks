{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\ritup\\\\Desktop\\\\react\\\\c86\\\\book-santa-stage-10\\\\components\\\\CustomSideBarMenu.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { DrawerItems } from 'react-navigation-drawer';\nimport { Avatar } from 'react-native-elements';\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Permissions from 'expo-permissions';\nimport firebase from 'firebase';\nimport db from \"../config\";\n\nvar CustomSideBarMenu = function (_Component) {\n  _inherits(CustomSideBarMenu, _Component);\n\n  var _super = _createSuper(CustomSideBarMenu);\n\n  function CustomSideBarMenu() {\n    var _this;\n\n    _classCallCheck(this, CustomSideBarMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      userId: firebase.auth().currentUser.email,\n      image: null,\n      name: \"\",\n      docId: \"\"\n    };\n\n    _this.selectPicture = function _callee() {\n      var _await$ImagePicker$la, cancelled, uri;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                mediaTypes: ImagePicker.MediaTypeOptions.All,\n                allowsEditing: true,\n                aspect: [4, 3],\n                quality: 1\n              }));\n\n            case 2:\n              _await$ImagePicker$la = _context.sent;\n              cancelled = _await$ImagePicker$la.cancelled;\n              uri = _await$ImagePicker$la.uri;\n              console.log(uri);\n              if (!cancelled) _this.updateProfilePicture(uri);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.updateProfilePicture = function (uri) {\n      db.collection('users').doc(_this.state.docId).update({\n        image: uri\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CustomSideBarMenu, [{\n    key: \"getUserProfile\",\n    value: function getUserProfile() {\n      var _this2 = this;\n\n      db.collection('users').where('email_id', '==', this.state.userId).onSnapshot(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          _this2.setState({\n            name: doc.data().first_name + \" \" + doc.data().last_name,\n            docId: doc.id,\n            image: doc.data().image\n          });\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUserProfile();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 0.5,\n          borderColor: 'red',\n          borderWidth: 2,\n          alignItems: 'center',\n          backgroundColor: 'orange'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, React.createElement(Avatar, {\n        rounded: true,\n        icon: {\n          name: 'user',\n          type: 'font-awesome'\n        },\n        source: {\n          uri: this.state.image\n        },\n        size: \"medium\",\n        overlayContainerStyle: {\n          backgroundColor: 'white'\n        },\n        onPress: function onPress() {\n          return _this3.selectPicture();\n        },\n        activeOpacity: 0.7,\n        containerStyle: {\n          flex: 0.75,\n          width: '40%',\n          height: '20%',\n          marginLeft: 20,\n          marginTop: 30,\n          borderRadius: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: {\n          fontWeight: '100',\n          fontSize: 20,\n          paddingTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, \" \", this.state.name)), React.createElement(View, {\n        style: styles.drawerItemsContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, React.createElement(DrawerItems, _extends({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }))), React.createElement(View, {\n        style: styles.logOutContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.logOutButton,\n        onPress: function onPress() {\n          _this3.props.navigation.navigate('WelcomeScreen');\n\n          firebase.auth().signOut();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      }, \"Log Out\"))));\n    }\n  }]);\n\n  return CustomSideBarMenu;\n}(Component);\n\nexport { CustomSideBarMenu as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  drawerItemsContainer: {\n    flex: 0.8\n  },\n  logOutContainer: {\n    flex: 0.2,\n    justifyContent: 'flex-end',\n    paddingBottom: 30\n  },\n  logOutButton: {\n    height: 30,\n    width: '100%',\n    justifyContent: 'center',\n    padding: 10\n  },\n  logOutText: {\n    fontSize: 30,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"sources":["C:/Users/ritup/Desktop/react/c86/book-santa-stage-10/components/CustomSideBarMenu.js"],"names":["React","Component","DrawerItems","Avatar","ImagePicker","Permissions","firebase","db","CustomSideBarMenu","state","userId","auth","currentUser","email","image","name","docId","selectPicture","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","cancelled","uri","console","log","updateProfilePicture","collection","doc","update","where","onSnapshot","querySnapshot","forEach","setState","data","first_name","last_name","id","getUserProfile","flex","borderColor","borderWidth","alignItems","backgroundColor","type","width","height","marginLeft","marginTop","borderRadius","fontWeight","fontSize","paddingTop","styles","drawerItemsContainer","props","logOutContainer","logOutButton","navigation","navigate","signOut","StyleSheet","create","container","justifyContent","paddingBottom","padding","logOutText"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nimport {StyleSheet, View, Text,TouchableOpacity, ImageBackground} from 'react-native';\r\nimport { DrawerItems} from 'react-navigation-drawer'\r\nimport {Avatar} from 'react-native-elements';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport * as Permissions from 'expo-permissions';\r\nimport firebase from 'firebase';\r\nimport db from '../config'\r\n\r\nexport default class CustomSideBarMenu extends Component{\r\n  state = {\r\n      userId : firebase.auth().currentUser.email,\r\n     image: null,\r\n     name: \"\",\r\n     docId : \"\"\r\n   };\r\n\r\n   selectPicture = async () => {\r\n     const { cancelled, uri } = await ImagePicker.launchImageLibraryAsync({\r\n       mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n        allowsEditing: true,\r\n        aspect: [4, 3],\r\n        quality: 1,\r\n     });\r\n     console.log(uri);\r\n     if (!cancelled) this. updateProfilePicture(uri);\r\n   }\r\n\r\n\r\n\r\n\r\n\r\n\r\n   updateProfilePicture=(uri)=>{\r\n     db.collection('users').doc(this.state.docId).update({\r\n       image : uri\r\n     })\r\n   }\r\n\r\n   getUserProfile(){\r\n     db.collection('users')\r\n     .where('email_id','==',this.state.userId)\r\n     .onSnapshot(querySnapshot => {\r\n       querySnapshot.forEach(doc => {\r\n         this.setState({\r\n           name : doc.data().first_name + \" \" + doc.data().last_name,\r\n           docId : doc.id,\r\n           image : doc.data().image\r\n         })\r\n       })\r\n     })\r\n   }\r\n\r\n\r\ncomponentDidMount(){\r\n  this.getUserProfile()\r\n\r\n}\r\n\r\n  render(){\r\n    return(\r\n      <View style={{flex:1}}>\r\n        <View style={{flex:0.5,borderColor:'red',borderWidth:2,alignItems:'center',backgroundColor:'orange'}}>\r\n\r\n            <Avatar\r\n                rounded\r\n                icon={{name: 'user', type: 'font-awesome'}}\r\n                source={{\r\n                  uri:\r\n                    this.state.image\r\n                  }}\r\n                size=\"medium\"\r\n\r\n                 overlayContainerStyle={{backgroundColor: 'white'}}\r\n                 onPress={() => this.selectPicture()}\r\n                 activeOpacity={0.7}\r\n                 containerStyle={{flex:0.75,width:'40%',height:'20%', marginLeft: 20, marginTop: 30,borderRadius:40}}\r\n              />\r\n\r\n\r\n            <Text style = {{fontWeight:'100',fontSize:20,paddingTop:10,}}> {this.state.name}</Text>\r\n\r\n        </View>\r\n\r\n        <View style={styles.drawerItemsContainer}>\r\n          <DrawerItems {...this.props}/>\r\n        </View>\r\n        <View style={styles.logOutContainer}>\r\n          <TouchableOpacity style={styles.logOutButton}\r\n          onPress = {() => {\r\n              this.props.navigation.navigate('WelcomeScreen')\r\n              firebase.auth().signOut()\r\n          }}>\r\n            <Text>Log Out</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nvar styles = StyleSheet.create({\r\n  container : {\r\n    flex:1\r\n  },\r\n  drawerItemsContainer:{\r\n    flex:0.8\r\n  },\r\n  logOutContainer : {\r\n    flex:0.2,\r\n    justifyContent:'flex-end',\r\n    paddingBottom:30\r\n  },\r\n  logOutButton : {\r\n    height:30,\r\n    width:'100%',\r\n    justifyContent:'center',\r\n    padding:10\r\n  },\r\n  logOutText:{\r\n    fontSize: 30,\r\n    fontWeight:'bold'\r\n  }\r\n})\r\n"]},"metadata":{},"sourceType":"module"}